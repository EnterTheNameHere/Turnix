===============================================================================
CORE META-RULES CMR-01 - DOCUMENT FORMAT SPECIFICATION (ASCII-79)
===============================================================================

Status:
-------
FOUNDATIONAL - physical format for all authoritative documents.
Changes here have cascading impact and must be rare and explicit.

Purpose:
--------
This document defines the canonical plain-text format used by Turnix
specification documents.

It defines:
- maximum line length
- allowed characters
- main section headers
- subsection headers
- tables
- doc-meta footer
- publication boundaries for chat

It does NOT define:
- authority tiers or document roles
- document title banner rules
- document change discipline
- document lifecycle rules

Those are defined by higher-level documentation rules.


===============================================================================
01. NORMATIVE KEYWORDS
===============================================================================

01.1. The following keywords are normative and are used across ALL Turnix
      documents:

      - MUST
      - MUST NOT
      - MAY

01.2. No other normative keywords are recognized.

01.3. Keywords not listed above have no normative meaning.


===============================================================================
02. HARD LINE-LENGTH RULE
===============================================================================

02.1. All authored lines MUST be at most 79 characters long.

02.2. No authored line MAY reach 80 characters.

02.3. doc-meta is machine-managed and is not authored content.

02.4. The 79-character rule applies to all authored content, including:
      - prose
      - document banner and end marker
      - section headers and subsection headers
      - lists
      - tables
      - separators
      - examples

02.5. Exception: In doc-meta, the value of the "file:" field MAY exceed
      79 characters. No other doc-meta line may exceed 79 characters.

02.6. Authored content is all document text excluding the doc-meta block.

02.7. Examples are authored content and MUST obey all format rules.


===============================================================================
03. CHARACTER SET
===============================================================================

03.1. Documents MUST use plain ASCII characters only.

03.2. Documents MUST NOT use:
      - Unicode punctuation
      - Unicode whitespace
      - non-ASCII symbols

03.3. Use only:
      - "-" for dashes
      - "->" for arrows
      - straight quotes: " and '

03.4. If an editor, chat client, or copy operation introduces non-ASCII
      characters, authors MUST correct them before publication or commit.


===============================================================================
04. MAIN SECTION HEADERS
===============================================================================

04.1. Each main section MUST use the following structure:

      Line 1: exactly 79 "=" characters
      Line 2: Section title
      Line 3: exactly 79 "=" characters
      Line 4: blank line
      Line 5+: section content

04.2. Section titles MUST start with a two-digit number:

      "00." through "99."

04.3. Section titles MUST be uppercase.

04.4. Main sections MUST be separated by exactly two consecutive blank lines.

04.5. A main section ends when exactly two consecutive blank lines occur.
      The next line MUST be either:
      - the next main section header, or
      - the end marker defined by CMR-02.

04.6. Authored content MUST NOT contain two consecutive blank lines except to
      end a main section.

04.7. A blank line is a line containing zero characters.
      Lines containing spaces or tabs are NOT blank lines.


===============================================================================
05. SUBSECTION HEADERS
===============================================================================

05.1. Subsections MAY be used inside a main section.

05.2. A subsection header MUST use the following structure:

      (blank line)
      <subsection-number><space><subsection title>
      <underline>
      (blank line)

05.3. The underline MUST:
      - use "-" characters only
      - have EXACTLY the same character count as the subsection header line
      - count ALL characters excluding the line ending

05.4. Example:

      04.1 Sub-header one
      -------------------

      04.1.2 Exactly as length of the text
      ------------------------------------

05.5. Subsection content follows immediately after the blank line.

05.6. Subsections do NOT change the rule that the enclosing main section MUST
      end with exactly two blank lines.

05.7. <subsection-number> MUST use digits and "." characters only.

05.8. <subsection-number> MUST begin with the enclosing main section number.
      Example: inside section "05.", valid subsection numbers include:
      - 05.1
      - 05.2.3

[NOTE] The underline exact-length rule is intentionally strict.
       Authors should treat the underline as machine-checkable syntax.


===============================================================================
06. LISTS AND INDENTATION
===============================================================================

06.1. Lists MAY be used.

06.2. The preferred list format is a bullet list using "-" followed by one
      space.

06.3. Numbered lists are also allowed and MUST use "1." "2." etc.

06.4. Indentation MUST use spaces only.

06.5. Tabs MUST NOT be used.


===============================================================================
07. TABLES
===============================================================================

07.1. Tables MAY be used.

07.2. The preferred table format is a boxed ASCII table using "+", "-",
      and "|".

07.3. A minimal pipe table format using "|" separators is also allowed.

07.4. All table lines MUST obey the 79-character line limit.

07.5. Table columns MUST be padded with spaces so that rows align to the same
      column widths within the table.

07.6. In boxed tables:
      - the top and bottom borders MUST use "+" corners and "-" fill
      - each row MUST begin with "|" and end with "|"
      - inner separators MUST use "|"

07.7. In pipe tables:
      - "|" separates columns
      - the rightmost column MAY omit the trailing "|" character
      - if the trailing "|" is omitted, padding MUST still be applied so that
        the visible column text aligns to the same widths as other rows

07.8. Example (boxed, valid):

      +----------+-------------+
      | Column 1 | Last column |
      +----------+-------------+
      | Value    | Text        |
      +----------+-------------+

07.9. Example (pipe, valid):

      | Column 1 | Last column
      | Value    | Text

07.10. If a table becomes fragile under the 79-character rule, authors MAY
       replace it with key-value blocks or prose.


===============================================================================
08. EMPHASIS AND TAGS
===============================================================================

08.1. Documents MUST NOT rely on Markdown semantics for meaning.

08.2. Emphasis MAY be expressed using:
      - ALL CAPS
      - leading tags

08.3. Tags MUST appear at the start of the line.

      [NOTE] Informational note.
      [WARNING] Behavioral constraint.


===============================================================================
09. DOCUMENT BANNER
===============================================================================

09.1. Each document MUST begin with a document banner as defined by CMR-02.

09.2. The document banner and the preamble (as defined by CMR-02) are authored
      content and MUST obey the 79-character rule.


===============================================================================
10. DOCUMENT FOOTER (doc-meta)
===============================================================================

10.1. Each document MUST end with a doc-meta block placed after all authored
      content.

10.2. The doc-meta block MUST use this exact structure:

      --- doc-meta ---
      docId: <canonical document identifier>
      file: <canonical repository path>
      rev: <revision number>
      git: <7-hex commit id>
      ----------------

10.2.1. No additional keys are permitted in doc-meta.

10.2.2. git MUST be exactly 7 lowercase hexadecimal characters.

10.3. The doc-meta block:
      - MUST be present
      - is machine-managed
      - MUST be ignored for behavioral semantics
        (guarantees, policy, mechanisms)
      - MAY be used for retrieval and version hygiene

10.4. docId is the canonical document identifier used for cross-document
      references and cross-thread retrieval.

10.5. docId and file MUST match the Canonical Index entry for this document.

10.6. file is the canonical repository path of the current authoritative
      revision of the document.

10.7. rev is a non-negative integer representing the revision number of the
      committed authoritative document.

10.7a. On each commit that changes authored content, rev MUST be greater than
       the prior committed rev for the same docId.

10.7b. Draft or in-progress copies of a document MAY exist in chat threads
       without doc-meta updates until commit.

10.7c. If authored content differs from the doc-meta revision, the copy MUST be
       treated as a draft and MUST be explicitly marked as a draft in the
       banner according to CMR-02.

10.8. Exception: See section 02.5.

10.9. Manual edits MUST NOT modify doc-meta content.
      This includes placeholder or pre-commit values.


===============================================================================
11. DOCUMENT BOUNDARIES IN CHAT
===============================================================================

11.1. When published in chat, an authoritative document MUST be fully
      contained within a single plain-text code block.

11.2. The code block MUST contain only the document, with no extra text before
      or after inside the block.

11.3. The code block is a transport container.
      It MUST NOT be treated as part of the document's meaning.


===============================================================================
12. WHITESPACE HYGIENE
===============================================================================

12.1. Documents MUST be committed with line feed (LF) line endings.

12.2. Lines MUST NOT contain trailing whitespace.

12.3. Files MUST end with a single trailing newline.


===============================================================================
END OF DOCUMENT FORMAT SPECIFICATION (ASCII-79)
===============================================================================


--- doc-meta ---
docId: CMR-01
file: docs/CMR-01_DOCUMENT_FORMAT_SPECIFICATION_ASCII_79.txt
rev: 16
git: 5dab35b
----------------
