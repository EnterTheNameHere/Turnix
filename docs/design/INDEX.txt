============================================================================
TURNIX SPECIFICATION — CANONICAL DOCUMENT INDEX
Version: DRAFT / STABILIZED CORE
============================================================================

This index defines where the Turnix specification lives, how documents
relate to each other, and which areas are foundational, core, or optional.

It is authoritative for:
- navigation
- scope boundaries
- responsibility ownership
- dependency direction
- future extension without drift

Documents marked CORE or FOUNDATIONAL are normative.
OPTIONAL documents are informative and non-binding.

---------------------------------------------------------------------
GLOBAL CONCEPTUAL ANCHOR
---------------------------------------------------------------------

CT-D — CORE TRUTH DOCTRINE
-------------------------
Turnix cannot guarantee correctness.
Turnix guarantees:
- reproducibility
- reversibility
- explicit uncertainty

All design areas must be compatible with CT-D.
Any mechanism that hides uncertainty or makes silent decisions
violates the core doctrine.

============================================================================
CORE DESIGN AREAS (LOCKED SEMANTICS)
============================================================================

These areas define Turnix correctness.
They are mandatory, mutually consistent, and order-sensitive.

---------------------------------------------------------------------
DESIGN AREA 1 — PROJECT INVARIANTS & PHILOSOPHY
---------------------------------------------------------------------

Status:
FOUNDATIONAL — applies to all other areas.

Purpose:
Defines non-negotiable principles:
- determinism over convenience
- continuity over performance
- explicitness over magic
- user-visible decisions
- local-first assumptions
- no guarantees outside orchestration

Upstream:
- CT-D

Downstream:
ALL other design areas

Notes:
This document is the philosophical and operational anchor.
Changes here cascade everywhere and must be rare.

---------------------------------------------------------------------
DESIGN AREA 2 — ROOT SYSTEM & PACK DISCOVERY BOUNDARIES
---------------------------------------------------------------------

Status:
CORE INFRASTRUCTURE

Purpose:
Defines:
- root types
- trust boundaries
- discovery scope
- what is ignored vs discoverable

Upstream:
- DA-1

Downstream:
- DA-3 (identity formation)
- DA-4 / DA-7 (resolution inputs)
- DA-10 (I/O constraints)
- DA-12 (discovery tracing)

---------------------------------------------------------------------
DESIGN AREA 3 — PACK IDENTITY, HIERARCHY & VISIBILITY
---------------------------------------------------------------------

Status:
FOUNDATIONAL

Purpose:
Defines:
- declaredId
- packTreeId
- author identity
- visibility intent vs global visibility

Upstream:
- DA-1
- DA-2

Downstream:
- DA-4 / DA-7 (dependency resolution)
- DA-6 (visibility enforcement)
- DA-11 (config identity)
- DA-12 (identity tracing)

---------------------------------------------------------------------
DESIGN AREA 4 — DEPENDENCIES, REQUIREMENTS & RESOLUTION SEMANTICS
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- dependency grammar
- candidate selection
- hard vs soft rejection
- scoring model
- ambiguity handling

Upstream:
- DA-1
- DA-2
- DA-3

Downstream:
- DA-8 (activation ordering)
- DA-14 (user decision points)
- DA-12 (resolution tracing)

---------------------------------------------------------------------
DESIGN AREA 5 — IMPORTING, MODULE LOADING & CODE BOUNDARIES
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- no native cross-pack imports
- Python vs JavaScript boundaries
- turnixImport semantics
- separation of import, resolution, activation

Upstream:
- DA-1
- DA-3
- DA-4

Downstream:
- DA-8 (activation)
- DA-9 (runtime interaction)
- DA-12 (import failure tracing)

---------------------------------------------------------------------
DESIGN AREA 6 — VISIBILITY, EXPORTS & ACCESS CONTROL
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- reachability rules
- exportNestedPacks
- importPacksFromParent
- permission-denied semantics

Upstream:
- DA-3

Downstream:
- DA-4 / DA-7 (hard filters)
- DA-9 (capability isolation)
- DA-12 (permission tracing)

---------------------------------------------------------------------
DESIGN AREA 7 — DEPENDENCIES, REQUIREMENTS & PACK REQUESTS
---------------------------------------------------------------------

Status:
CORE

Purpose:
Refines dependency declaration into:
- PackRequest objects
- two-phase resolution
- last-known-good logic
- pinning and copied packs

Upstream:
- DA-3
- DA-4

Downstream:
- DA-8 (activation prerequisites)
- DA-14 (decision points)
- DA-12 (resolution trace completeness)

---------------------------------------------------------------------
DESIGN AREA 8 — ACTIVATION, LIFECYCLE & EXECUTION GUARANTEES
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- when code may run
- activation phases
- entrypoints
- failure semantics

Upstream:
- DA-4
- DA-6
- DA-7
- DA-5

Downstream:
- DA-9 (services/capabilities)
- DA-13 (debugging)
- DA-12 (activation causality)

---------------------------------------------------------------------
DESIGN AREA 9 — SERVICES, CAPABILITIES & PERMISSIONS
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- runtime interaction model
- services vs capabilities
- permission mediation
- user trust boundaries

Upstream:
- DA-8
- DA-6
- DA-5

Downstream:
- DA-14 (permission decisions)
- DA-13 (capability breakpoints)
- DA-12 (capability audit)

---------------------------------------------------------------------
DESIGN AREA 10 — FILE I/O, READERS/WRITERS & PERSISTENCE SAFETY
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- IoManager
- centralized persistence
- atomic writes
- backups and snapshots
- streaming constraints

Upstream:
- DA-1
- DA-2

Downstream:
- DA-11 (config)
- DA-14 (recovery decisions)
- DA-12 (I/O tracing)

---------------------------------------------------------------------
DESIGN AREA 11 — CONFIGURATION, SCHEMAS & MIGRATION
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- schema-driven config
- defaults vs overrides
- migration model
- config identity

Upstream:
- DA-3
- DA-10

Downstream:
- DA-8 (activation readiness)
- DA-14 (user recovery)
- DA-12 (migration tracing)

---------------------------------------------------------------------
DESIGN AREA 12 — TRACING, DIAGNOSTICS & OBSERVABILITY
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- trace-first model
- causal DAG
- stable reason codes
- error-envelope integration

Upstream:
- ALL core areas

Downstream:
- DA-13 (debugging)
- DA-14 (user explanation)
- Optional B (developer observability)

---------------------------------------------------------------------
DESIGN AREA 13 — DEBUGGING, INSPECTION & BREAKPOINTS
---------------------------------------------------------------------

Status:
CORE (developer-facing)

Purpose:
Defines:
- semantic breakpoints
- inspection surfaces
- controlled mutation
- non-blocking pause model

Upstream:
- DA-8
- DA-9
- DA-12

Downstream:
- DA-14 (decision + debugging interplay)
- Optional B (tooling)

---------------------------------------------------------------------
DESIGN AREA 14 — USER INTERACTION, DECISION POINTS & POLICY HANDLING
---------------------------------------------------------------------

Status:
CORE

Purpose:
Defines:
- kernel-mediated decisions
- hard vs soft decisions
- pause-and-resume model
- policy persistence

Upstream:
- DA-4
- DA-7
- DA-9
- DA-10
- DA-11
- DA-12
- DA-13

Downstream:
- UI / PackManager specifications
- Optional A (bootstrap UI context)

============================================================================
OPTIONAL / CONTEXTUAL DESIGN AREAS
============================================================================

These areas add robustness, tooling, and ecosystem health.
They do NOT change runtime semantics.

---------------------------------------------------------------------
OPTIONAL DESIGN AREA A — MINIMAL BOOTSTRAP & ERROR UI SUBSYSTEM
---------------------------------------------------------------------

Status:
OPTIONAL BUT STRATEGIC

Purpose:
Defines:
- bootstrap rings (Ring 0 / 1 / 2)
- minimal error UI
- early user recovery before packs load

Upstream:
- DA-10
- DA-11
- DA-14

Downstream:
- PackManager UI
- Recovery UX

---------------------------------------------------------------------
OPTIONAL DESIGN AREA B — DEVELOPMENT, DIAGNOSTICS & OBSERVABILITY
---------------------------------------------------------------------

Status:
OPTIONAL BUT HIGHLY RECOMMENDED

Purpose:
Defines:
- trace consumption
- resolver explanations
- capability usage reports
- activation diagnostics

Upstream:
- DA-12
- DA-8
- DA-9

Downstream:
- Developer tooling
- Debug UX

---------------------------------------------------------------------
OPTIONAL DESIGN AREA C — TOOLING, AUTHORING & ECOSYSTEM SUPPORT
---------------------------------------------------------------------

Status:
OPTIONAL

Purpose:
Defines:
- authoring tools
- linting and previews
- visualization
- scaffolding
- documentation generation

Upstream:
- DA-3
- DA-4
- DA-7
- DA-9
- Optional B

============================================================================
CROSS-CUTTING CONTRACTS & GUARANTEES
============================================================================

This section is an INDEX-ONLY grouping.
It is not a standalone document and has no independent semantics.

Documents listed here define system-level responsibility boundaries,
guarantees, and expectations that apply ACROSS multiple design areas.

They are not tied to a single lifecycle phase or subsystem,
but constrain behavior globally.

---------------------------------------------------------------------
OD — MINIMAL PACK / MOD CONTRACT
---------------------------------------------------------------------

Status:
FOUNDATIONAL CONTEXT

Purpose:
Defines:
- responsibility ownership (system / author / user)
- hard vs soft compatibility separation
- capability-based diagnostics expectation
- SavePack determinism
- update, rollback, and version pinning guarantees

Applies to:
- DA-4 (Dependencies & Resolution)
- DA-7 (Pack Requests & Pinning)
- DA-10 (File I/O, Persistence & Backups)
- DA-11 (Configuration & Migration)
- DA-14 (User Decisions & Policy Handling)

This contract operationalizes CT-D at the ecosystem level.

---------------------------------------------------------------------
OE — CROSS-PACK PERMISSIONS — STATE ACCESS, MUTATION & AUTHORITY
---------------------------------------------------------------------

Status:
CORE (CROSS-CUTTING)

Purpose:
Defines:
- cross-pack state/config access rules
- mutation authority and permission mediation
- non-leakage rules for inspection and tracing surfaces
- deterministic handling of denied/unknown access (no silent fallback)

Applies to:
- DA-9  (Services, Capabilities & Permissions)
- DA-11 (Configuration, Schemas & Migration)
- DA-12 (Tracing, Diagnostics & Observability)
- DA-14 (User Interaction, Decision Points & Policy Handling)
- Future memory/state documents

============================================================================
END OF CROSS-CUTTING CONTRACTS & GUARANTEES
============================================================================
