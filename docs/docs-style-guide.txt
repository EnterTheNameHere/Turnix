TURNIX DOCUMENTATION STYLE GUIDE
(authoritative for all .txt specifications)

================================================================================
0. PURPOSE
================================================================================

This document defines formatting rules for all authoritative Turnix
specifications. The goal is to ensure:

- lossless rendering in any environment
- stable copy/paste behavior
- diff-friendly structure
- zero dependency on Markdown renderers

All authoritative specs MUST follow this guide.

Reason:
ChatGPT markdown rendering is bugged and cannot produce whole md block correctly.

================================================================================
1. GENERAL RULES
================================================================================

1.1 File format
---------------

- All authoritative specifications use plain text (.txt)
- UTF-8 encoding
- LF line endings

1.2 Line width
--------------

- Maximum line length: 78 characters
- Tables are exception, maximum line length: 118 characters
- Tables may begin with a leading '|'
- No trailing '|' is allowed on any line
- Absolute hard limit including leading '|' is 120 characters

1.3 Typography
--------------

- Monospace assumed
- Spaces are significant
- TAB characters are forbidden
- No soft line wrapping inside structured blocks

1.4 Chat rendering requirements
-------------------------------

When authoritative specifications are printed or transmitted via
chat-based systems (including ChatGPT), the following rules apply:

- The entire document MUST be printed inside a plain text code block
- The code block MUST be used solely as a transport container
- No Markdown semantics are allowed or relied upon
- No syntax highlighting, language tags, or renderer features may be used

Rationale:

- Chat UIs may apply styling, wrapping, or transformations to normal text
- Code blocks provide the only stable, lossless representation
- Copy/paste from a code block MUST reproduce the document byte-for-byte

Failure to print authoritative specifications inside a text code block
constitutes a formatting error.

1.5 Canonical blank lines and vertical spacing
----------------------------------------------

Vertical spacing in authoritative specifications is strictly defined.

Rules:

- Exactly ONE blank line MUST appear:
    - between the last line of section content and a following heading
    - between a heading (section or subsection) and the first line of
      its content

This results in the following canonical structure:

    <last line of previous section>
    <blank line>
    <heading overline (if applicable)>
    <heading text>
    <heading underline>
    <blank line>
    <first line of new section content>

Additional rules:

- Multiple consecutive blank lines are FORBIDDEN
- No blank line is permitted:
    - between heading decoration lines and heading text
    - inside tables
    - inside lists
- Blank lines inside prose are only allowed where explicitly required
  by this guide

This spacing rule applies uniformly to:

- section headings
- subsection headings
- transitions from prose, tables, lists, or warning blocks

1.6 Character set and forbidden characters
------------------------------------------

Authoritative specifications MUST avoid characters that may be invisible,
ambiguous, or environment-dependent.

Allowed characters:

- ASCII characters (U+0020 to U+007E)
- Standard UTF-8 letters when explicitly required for proper nouns or
  non-English terminology

Forbidden characters include, but are not limited to:

- TAB characters (U+0009)
- Non-breaking spaces (U+00A0)
- Zero-width characters of any kind
- Smart quotes and typographic punctuation
- Unicode box-drawing characters
- Directional or control characters

Rationale:

- Prevents invisible corruption
- Ensures predictable diffs
- Guarantees lossless copy/paste and parsing

1.7 Normative language
---------------------

Authoritative specifications use strict normative language.

The following keywords are permitted and have precise meaning:

- MUST       : mandatory requirement
- MUST NOT   : forbidden behavior
- MAY        : optional behavior

The following words are FORBIDDEN in authoritative specifications:

- SHOULD
- SHOULD NOT
- COULD
- TYPICALLY
- GENERALLY
- USUALLY
- RECOMMENDED

Rationale:

- Eliminates ambiguity
- Enables mechanical interpretation
- Prevents subjective interpretation of rules

1.8 Machine parsability
-----------------------

Authoritative specifications are written such that a deterministic parser
MAY be implemented without heuristics.

Implications:

- Structure MUST be unambiguous
- Meaning MUST NOT depend on prose interpretation
- Formatting carries semantic weight only where explicitly defined

Rationale:

- Enables future tooling
- Supports validation and automation
- Prevents human-only interpretation

================================================================================
2. HEADINGS
================================================================================

2.1 Heading levels
------------------

There are exactly two heading levels in authoritative specifications:

- Section headings
- Subsection headings

No other heading levels are permitted.

2.2 General heading rules
-------------------------

Use underlined headings only.

The underline line MUST NOT exceed 80 columns, including whitespace.

All numbered sections (`N. TITLE`) are section headings and MUST use
section-heading decoration.

Section headings define structural boundaries.

Standalone separator lines are purely visual and MUST NOT be used
immediately before or after section headings.

2.3 Section headings
--------------------

Section headings use both an overline and an underline.

Rules:

- Heading text is on its own line
- One overline above the text
- One underline below the text
- Overline and underline:
    - use '=' characters only
    - MUST NOT exceed 80 columns total, including whitespace
    - MUST be the same length
- Overline and underline MUST be vertically aligned

Example:

    ============================================================================
    SECTION TITLE
    ============================================================================

2.4 Subsection headings
-----------------------

Subsection headings use an underline only.

Rules:

- Heading text is on its own line
- Single underline below the text
- Underline:
    - uses '-' characters only
    - MUST NOT exceed 80 columns total, including whitespace
- Overlines are NOT permitted for subsection headings

Example:

    Subsection title
    ----------------------------------------------------------------------------

Markdown-style headings (#, ##, ###) are forbidden in authoritative specs.

================================================================================
3. LISTS
================================================================================

3.1 Bullet lists
----------------

- Use '-' followed by a single space
- No Markdown list syntax assumptions
- Nesting is done by indentation (4 spaces per level)

Example:

    - First item
    - Second item
        - Nested item
        - Nested item

================================================================================
4. TABLES
================================================================================

4.1 Purpose
-----------

Tables are used for:

- field definitions
- schema summaries
- option matrices
- constraint overviews

Tables are visual ASCII structures.
They are NOT semantic Markdown tables.

4.2 Table layout rules
----------------------

- Each row MUST start with '|'
- The right edge MUST be open (NO trailing '|')
- Columns are aligned using spaces only
- Column widths are fixed across the table
- Header separator row is mandatory

4.3 Header separator
--------------------

- Use '-' characters only
- Separator MUST align exactly with column widths
- Separator row MUST start with '|'

4.4 Canonical table example
---------------------------

    | Field Name      | Type            | Required | Description
    |-----------------|-----------------|----------|-----------------------------------------------
    | localId         | string          | yes      | Pack local identifier (no '.', '@', '/', ':')
    | author          | string | null   | no       | Declared author or null
    | version         | string | null   | no       | Semantic version (e.g. 1.2.0, v2.0)
    | kind            | enum            | yes      | appPack | viewPack | mod | contentPack
    | assets          | map             | no       | Asset declarations owned by this pack

Notes:

- Leading '|' anchors visual alignment
- Open right edge avoids trimming and renderer bugs
- No renderer is allowed to reinterpret the structure

4.5 Cell overflow rules
-----------------------

- Content MUST NOT wrap inside a cell
- If content does not fit:
    - shorten wording, OR
    - split into multiple rows, OR
    - move details to prose below the table

================================================================================
5. CODE AND GRAMMAR BLOCKS
================================================================================

5.1 Code blocks
---------------

Use indentation only.
Do NOT use fenced blocks.

Example:

    parsePackRefString(ref, kind=None):
        if ref is empty:
            error

================================================================================
6. EMPHASIS AND SYMBOLS
================================================================================

6.1 Forbidden formatting
------------------------

Do NOT use:

- asterisks for emphasis
- underscores for emphasis
- inline backticks
- Markdown emphasis of any kind

6.2 Allowed emphasis
--------------------

- CAPITAL LETTERS for strong warnings
- Prefixes such as:
    NOTE:
    WARNING:
    IMPORTANT:

================================================================================
7. DIFF AND TOOL SAFETY
================================================================================

This style is designed to survive:

- Git diff and merge
- Copy/paste across editors
- Rendering in chat-based UIs
- Future automated processing

No part of the specification relies on:

- Markdown semantics
- HTML
- rich text
- renderer-specific behavior

================================================================================
8. AUTHORSHIP AND AUTHORITY
================================================================================

Only explicitly designated documents are AUTHORITATIVE.

Rules:

- Commentary, examples, explanations, and discussions do NOT override
  authoritative specifications
- In case of conflict between documents, the most restrictive rule applies
- Non-authoritative documents MAY reference authoritative specifications
  but MUST NOT redefine them

Rationale:

- Preserves a single source of truth
- Prevents authority drift
- Enables controlled evolution of the specification set

================================================================================
9. STATUS
================================================================================

This style guide is:

- AUTHORITATIVE once adopted
- APPLIED retroactively to all authoritative specs
- NOT required for non-authoritative documents

Non-authoritative documents (README files, overviews, tutorials)
may use Markdown freely.

================================================================================
END OF DOCUMENT
================================================================================
